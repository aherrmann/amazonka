extensions = [
    "NoImplicitPrelude",
    "ConstraintKinds",
    "DataKinds",
    "DefaultSignatures",
    "DeriveAnyClass",
    "DeriveFoldable",
    "DeriveFunctor",
    "DeriveGeneric",
    "DeriveTraversable",
    "DerivingStrategies",
    "DerivingVia",
    "DuplicateRecordFields",
    "FlexibleContexts",
    "FlexibleInstances",
    "GADTs",
    "GeneralizedNewtypeDeriving",
    "LambdaCase",
    "NamedFieldPuns",
    "OverloadedStrings",
    "PackageImports",
    "PatternSynonyms",
    "RankNTypes",
    "RecordWildCards",
    "ScopedTypeVariables",
    "StandaloneDeriving",
    "StrictData",
    "TupleSections",
    "TypeApplications",
    "TypeFamilies",
    "ViewPatterns",
]

ghc_flags = ["-X" + ext for ext in extensions] + [
    "-Wall",
    "-funbox-strict-fields",
    "-fwarn-incomplete-uni-patterns",
    "-fwarn-incomplete-record-updates",
    "-fwarn-missing-deriving-strategies",
    "-fwarn-unused-packages",
]

haskell_library(
    name = "amazonka",
    srcs = glob(["**/*.hs", "**/*.hs-boot"]),
    compiler_flags = ghc_flags,
    visibility = ["//amazonka/..."],
    deps = [
        "//amazonka/lib/amazonka-core/src:amazonka-core",
        "//amazonka/lib/services/amazonka-sso/gen:amazonka-sso",
        "//amazonka/lib/services/amazonka-sts/gen:amazonka-sts",
        "//haskell:aeson",
        "//haskell:base",
        "//haskell:bytestring",
        "//haskell:conduit",
        "//haskell:directory",
        "//haskell:exceptions",
        "//haskell:http-client",
        "//haskell:http-conduit",
        "//haskell:http-types",
        "//haskell:ini",
        "//haskell:lens",
        "//haskell:resourcet",
        "//haskell:retry",
        "//haskell:text",
        "//haskell:time",
        "//haskell:transformers",
        "//haskell:unordered-containers",
        "//haskell:uuid",
    ],
)
